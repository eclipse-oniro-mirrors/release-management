OpenHarmony_3.1_Release测试报告



# **1 概述**

本报告针对OpenHarmony3.1 版本（共5个迭代版本）的测试验证及质量状态评估。包括对子系统特性、兼容性、稳定性、性能、功耗的测试项覆盖。

# 2 测试版本与测试环境



测试版本：

| 版本名称                            | 测试起始时间 | 测试结束时间 |
| ----------------------------------- | ------------ | ------------ |
| OpenHarmony 3.1.1.1版本-3.1.5.5版本 | 2021-11-01   | 2022-3-30    |

测试环境：

| 硬件型号    | 备注                         | 版本                                                         |
| ----------- | ---------------------------- | ------------------------------------------------------------ |
| 3861        | 轻量系统&不带屏              | hispark_pegasus版本                                          |
| HI3516DV300 | 小型系统&带屏、标准系统&带屏 | hispark_taurus版本(LiteOS版本)/hispark_taurus_linux版本/hi3516dv300版本 |
| RK3568      | 标准系统&带屏                | RK3568版本                                                   |











# 3 版本概要测试结论



总体测试结论：GO。总体问题关闭率超过85%并且无关键问题遗留。









| 测试项         | 版本要求                                                     | 测试结论 | 风险&遗留关键问题                                            |
| -------------- | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ |
| 子系统需求验证 | 1、无严重与主要的缺陷<br>2、总体问题关闭率85%以上             | Go       | 需求100%测试完成，无关键未分析问题遗留。遗留问题：<br>1、I4RJU8：标准系统 3516相机预览黑屏；(530版本高优先级交付）<br>2、I50D4V：MAC下低概率无法发现设备问题，已提供规避手段和资料 |
| 兼容性测试     | XTS通过率100%                                                | Go       | 满足测试标准。                                               |
| 专项稳定性     | 1、累计时长大于2000小时<br> 2、无遗留严重及以上关键性问题 | Go       | 满足测试标准，无关键稳定性问题遗留                           |
| 专项性能       | 子系统性能场景；应用负载模型；                               | Go       | 满足测试标准，无关键稳定性问题遗留                           |
| 专项功耗       | 场景功耗达标；待机功耗达标；                                 | Go       | 满足测试标准，无关键稳定性问题遗留                           |
| 资料测试       | 无资料使用问题                                               | Go       | 无资料使用问题                                               |
| SDK            | 1、SDK配套IDE无关键问题，版本配套验证OK<br>2、IDE配套资料交付完成 | Go       | 已全部完成验收           |

# 4 版本详细测试结论

## 4.1 子系统测试结论

| 序号 | 子系统名称        | 评估结论 | 风险&遗留关键问题                                            |
| ---- | ----------------- | -------- | ------------------------------------------------------------ |
| 1    | 媒体              | Go       | **需求验收**：验收完成，无关键问题遗留。                                                                                                                                    <br>**测试活动**：关键特性：媒体服务部件（多种格式音视频播放、编解码等）、相机框架（预览、拍照、会话管理、对焦、变焦、闪光灯、镜头管理等）、音频框架（音频播放、焦点管理、音频通话、音频录制、音频设备管理等）、媒体库（媒体文件扫描、相册、收藏、回收站管理、媒体数据库操作等）、image（多种格式图片编解码、位图修改、Exif信息编辑等） |
| 2    | 应用              | Go       | **需求验收**：验收完成，无关键问题遗留。                                                                                                                                    <br>【功能】功能测试包含全量需求用例，按照版本全量测试，当前有部分功能问题遗留，对系统场景无影响，无关键遗留问题<br>【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，当前不存在API相关的问题<br>【XTS】当前xts测试里覆盖率100%，通过率100%<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审 |
| 3    | 启动恢复          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性：支持系统进程按需启动能力：支持socket类进程、SA类进程、UHDF类进程和根据热插拔事件按需启动，无访问不启动，减少常驻内存；系统参数能力增强：系统参数支持MAC访问机制，增强系统参数的维护命令，所有的init相关的命令都统一到begetdctl中；进程启动配置能力增强：支持配置服务进程启动时的MAC、AccessToken、绑核及优先级信息，将进程标签化，精确控制进程可访问的系统资源；进程退出后的回收处理策略配置能力增强：支持配置服务进程退出后的回收处理策略，提高系统的可靠性；支持app进程沙盒化和应用进程回收：提供安全的应用运行环境 |
| 4    | 安全特性          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性：PKI签名中心、HUKS、用户身份管理、设备认证、设备安全等级查询、数据流转管控<br>【资料测试】：基于资料规范进行测试，当前没有未关闭的资料问题<br>【功耗测试】：不涉及<br>【XTS】：当前xts测试里覆盖率100%，通过率100% |
| 5    | ArkUI             | Go       | **需求验收**：验收完成，无关键问题遗留。 <br>**测试活动**：关键特性：Canvas绘制、Lottie动画、Web组件<br>【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，当前不存在API相关的问题<br>【XTS】当前xts测试里覆盖率100%，通过率100%<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审 |
| 6    | 驱动              | Go       | **需求验收**：验收完成，无关键问题遗留。<br> **测试活动**：关键特性：看护传感器器件驱动能力增强、Input设备能力丰富、支持同步/异步电源管理调用、Display驱动能力增强功能。3516DV300单板： go ， 此单板需求功能正常，camera相关功能MR版本适配。RK3568单板： go ， 驱动基本功能正常，但HDI需求不能默认在RK3568版本上验证（TP、input已支持，wifi、camera、audio适配中，sensor、codec不支持），下个版本适配计划。 |
| 7    | 内核              | Go       | **需求验收**：验收完成，无关键问题遗留。<br> **测试活动**：【关键特性】1）RK3568：主要交付CMA复用，DMA BUF Heaps，进程支持tokenid，Hyperhold功能，F2FS末端优化，CPU轻量级隔离，智能感知调度功能等特性2）恒玄_M核：主要交付支持动态加载，支持Cortex-M55，liteos进行接口融合等特性3）Hi3516_A核：无新增需求，历史特性看护<br>【测试充分性】分层测试：1）内核层：通过内核节点，huckCI测试内核功能，稳定性和性能；2）native层：通过LTP posix测试套，开源稳定性测试套，trace点验证内核功能、稳定性、natvice层策略；3）APP层：F2FS末端性能测试，整机保活测试验证内核整体方案的性能收益，方案稳定性<br>【稳定性】内核基础防护网hulkCI稳定性测试<br>【性能】内核基础防护网hulkCI性能测试，APP保活性能不劣化，F2FS末端性能相对优化前不劣化<br>【功耗】不涉及<br>【API测试】xts用例执行<br>【资料测试】不涉及 |
| 8    | USB               | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性验证：看护USB服务JS接口能力、USB Host/Device/port功能3516DV300/RK3568单板USB服务功能正常，安全、可靠性、资料等验证完成功耗测试：不涉及。<br>稳定性测试：每日例行执行xts用例。<br>资料测试：资料验收完成。体验测试：暂不涉及，基本功能正常。 |
| 9    | 泛Sensor          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性验证：支持Sensor数据订阅、马达振动、地磁算法、通用算法关键特性，Sensor对外JS接口权限验证通过性能：基于社区单板摸底接口调用时延，各个平台，摸底数据稳定性：xts长稳测试资料测试：接口资料测试通过 |
| 10   | 多模输入          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性验证：支持3568平台触摸屏、鼠标、键盘、触摸板时间上报、注入、拦截、监听等关键特性，支持Key、Point类型事件注入，支持ANR检测；稳定性：xts长稳测，验证多模注入接口&框架能力。资料测试：接口资料测试通过 |
| 11   | 文件存储          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：看护关键特性：文件基础操作API、基础文件系统能力、文件加密策略、外卡存储管理、分布式文件、沙箱无遗留关键问题 |
| 12   | 电源              | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性验证：支持电源管理、亮灭屏、开关机、温控管理、电量统计等关键特性性能：基于社区单板摸底接口调用时延，场景端到端摸底；稳定性：xts长稳测试覆盖通过；资料测试：接口资料测试通过 |
| 13   | 语言编译与运行时  | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：性能测试：端到端闭环性能问题，完成不同版本之间的性能，无关键性能问题遗留。功耗测试：不涉及。安全测试：已完成，无遗留问题。稳定性测试：每日例行执行xts用例。资料测试：已完成。 |
| 14   | 全局资源调度管控  | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性：短时任务、代理提醒任务、全局资源调度框架、SOC调频、智能分组、长时任务、延迟任务、应用使用信息查询、部件标准化稳定性测试：每日例行执行xts用例。资料测试：已完成。体验测试：不涉及。 |
| 15   | 分布式任务调度DMS | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性：看护跨设备启动组件，跨设备oncall调用，跨设备迁移组件及数据恢复，跨设备调用组件，跨设备任务列表的查询、同步、更新，跨设备任务快照查询、同步、更新。 |
| 16   | 系统服务管理SAMGR | Go       | **需求验收**：验收完成，无关键问题遗留。   <br>**测试活动**：关键特性：看护注册、查询本地系统服务,查询远端系统服务，本地动态加载系统服务，加载指定系统服务，系统服务异常恢复机制性能测试：接口级性能测试功耗测试：不涉及。安全测试：无安全测试问题稳定性测试：根据系统是否重启判断是否存在samgr异常，未发现samgr异常引起的重启。资料测试：资料验收完成。体验测试：暂不涉及，基本功能正常。 |
| 17   | 分布式DP          | Go       | **需求验收**：验收完成，无关键问题遗留。  <br>**测试活动**：看护查询、订阅本地/远端设备信息、本地设备信息写入、删除；同步设备信息到远端及权限控制，同步适配可信群组性能测试：多客户端访问DP性能达标；功耗测试：不涉及。稳定性测试：例行运行稳定性工具；资料测试：资料测试已完成；体验测试：暂不涉及，基本功能正常。 |
| 18   | 分布式数据管理    | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：性能:问题已全部解决；稳定性： 问题已全部解决，Xts覆盖率 100%，用例通过率 100%；安全：问题已全部整改完成；兼容性：sdk专项测试通过；部件化：问题整改完成 |
| 19   | 分布式硬件        | Go       | **需求验收**：验收完成，无关键问题遗留。                     <br> **测试活动**：性能测试：测试通过；功耗测试：测通过；安全测试：已完成分布式硬件安全测试，发现问题已澄清；资料测试：已完成分布式硬件资料测试；稳定性测试：分布式硬件管理挂测超过8小时，无遗留关键问题； |
| 20   | 分布式软总线      | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：【功能】蓝牙/P2P功能已交付并验收【可靠性】问题已全部解决【性能】问题已全部解决 |
| 21   | 杂散              | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：测试充分性：需求已全部关闭。性能测试：时间同步后系统时间与第三方时间误差小于1s；功耗测试：不涉及；稳定性测试：每日例行执行xts用例无问题；安全测试：IT3、IT4、IT5安全测试已完成；资料测试：部件化专项与syascap测试无问题 |
| 22   | 无障碍            | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：性能测试：无问题；功耗测试：不涉及；安全测试：问题已全部解决；稳定性测试：每日例行执行xts用例未发现问题；XTS测试：当前xts覆盖率100%，通过率100%；资料测试：部件化专项-OK，syscap测试-OK体验测试：不涉及 |
| 23   | 账号              | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【安全】跟随版本总体安全测试策略执行，IT3、IT4和IT5已完成，当前没有未关闭的安全问题；<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，当前不存在API相关的问题<br>【XTS】当前xts测试里覆盖率100%，通过率100%<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审|
| 24   | 电话              | Go       | RK3568平台电话子系统需求验收完成。无关键问题遗留。       |
| 25   | 事件通知          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：通知类主要是基础通知能力增强，新增长时任务通知、模板通知、会话类通知、分布式通知、通知权限管控、通知多用户等能力，事件类主要是事件多用户、静态订阅者、eventEmitter组件。当前遗留严重问题单：无；性能测试：不涉及；功耗测试：不涉及； <br>安全测试：已完成安全测试，无遗留问题； 稳定性测试：已完成稳定性测试，无遗留问题； 资料测试：已完成资料测试，无遗留问题； 体验测试：不涉及。 |
| 26   | 包管理            | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性：多hap安装更新能力：支持同应用多hap场景同时安装、继承安装场景，为应用灵活部署打下基础多用户能力支持：支持多用户场景下应用管理、应用信息查询能力；应用信息查询能力增强：应用信息查询增加隐式查询能力，并针对显式查询逻辑重构优化；应用权限机制支撑：支撑AT机制，应用信息中增加AT相关权限标记，并增加应用安全时系统权限授权机制；分布式DBMS能力构建：构建分布式场景DBMS能力，支撑分布式场景应用信息查询能力，当前仅支撑多设备任务中心场景；子系统安全能力增强：配合系统AT机制构建，子系统对外接口增加权限管控机制；遗留问题：问题均已闭环 |
| 27   | 元能力            | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【安全】IT3、4、5已完成，当前没有未关闭的安全问题<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，不存在API相关的问题<br>【XTS】当前xts测试里覆盖率100%，通过率100%<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审 |
| 28   | 短距离通信        | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【安全】跟随版本总体安全测试策略执行，IT3、4、5已完成，当前没有未关闭的安全问题<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，当前不存在API相关的问题<br>【XTS】当前xts测试里覆盖率100%，成功率99.3%（剩余1条失败，RK3568 WiFi不支持5G，已提单跟踪）<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审 |
| 29   | 图形              | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：【测试充分性】【功能】功能测试包含全量需求用例，按照版本全量测试，当前有部分功能问题遗留，对系统+场景无影响，无关键遗留问题<br>【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【安全】跟随版本总体安全测试策略执行，IT3、4、5已完成，当前没有未关闭的安全问题<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，当前不存在API相关的问题【XTS】当前xts测试里覆盖率100%，通过率100%<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审 |
| 30   | 窗口管理          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试结论**：无关键遗留功能问题 |
| 31   | 全球化            | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：关键特性：电话号码处理、多偏好语言、度量衡转换能力、时区数据管理、资源编译优化、js接口定制框架、企业设备管理、部件标准化等；安全测试：完成，无问题；性能测试：API接口级性能测试；稳定性测试：测试套压测；功耗测试：不涉及；资料测试：API接口文档和md文档资料测试；体验测试：不涉及 |
| 32   | 位置服务          | Go       | **需求验收**：验收完成，无关键问题遗留。<br>**测试活动**：遗留风险问题：发起getLastLocation后获取的定位值是mock值，并不是实际定位值。需要持续关注社区开发者反馈，计划在下个迭代解决。<br>【测试充分性】【基本功能】准出版本已完成2轮全量测试，当前无遗留关键阻塞问题<br>【稳定性】测试设计中包含了压力场景，以及每日挂测xts，当前没有未解决的稳定性问题<br>【安全】跟随版本总体安全测试策略执行，IT3、IT4和IT5已完成，当前没有未关闭的安全问题<br>【API】通过手动和自动化用例执行，包含正常、异常、压力调用等用例，当前无遗留关键阻塞问题<br>【XTS】当前xts测试里覆盖率100%，通过率100%<br>【资料】每个迭代基于转测试需求，进行资料测试，关键资料均已提供和评审备注：社区版本测试设备RK3568芯片不支持GNSS定位能力，无法支持端到端定位能力，通过服务层API接口验证。 |
| 33   | DFX               | GO       | **需求验收**：验收完成，无关键问题遗留。 |
| 34   | 升级              | Go       | **需求验收**：验收完成，无关键问题遗留。 |


##  



## 4.2 兼容性测试结论：



**兼容性测试**主要是验证设备和业务应用满足OpenHarmony开源兼容性定义的技术要求，确保运行在OpenHarmony上的设备和业务应用能稳定、正常运行，同时使用OpenHarmony的设备和业务应用有一致性的接口和业务体验。



API覆盖率和通过率达到100%。



## 4.3 稳定性专项测试结论：



1、发布版本测试总时长：2000+小时（测试时长已达成）



2、发布版本无遗留关键问题。



## 4.4 性能专项测试结论



1、场景功耗达标；



2、待机功耗达标。



## 4.5 SDK专项测试结论



SDK已全部完成验收，无关键遗留问题。



 



## 4.6 资料测试
测试完成，无关键遗留问题


# **OpenHarmony 3.1.1 Release测试报告**

## **1** **概述**

本报告针对OpenHarmony 3.1.1 Release版本量状态评估。包括对子系统特性、兼容性、稳定性、性能、功耗的测试项覆盖。

## **2** **测试版本与测试环境**

测试版本：

| **版本名称**                         | **测试起始时间** | **测试结束时间** |
| ------------------------------------ | ---------------- | ---------------- |
| OpenHarmony  3.1.6.1版本-3.1.6.5版本 | 2021-05-01       | 2022-05-30       |

 

测试环境：

| **硬件型号** | **备注**                     | **版本**                                                     |
| ------------ | ---------------------------- | ------------------------------------------------------------ |
| 3861         | 轻量系统&不带屏              | hispark_pegasus版本                                          |
| HI3516DV300  | 小型系统&带屏、标准系统&带屏 | hispark_taurus版本(LiteOS版本)/hispark_taurus_linux版本/hi3516dv300版本 |
| RK3568       | 标准系统&带屏                | RK3568版本                                                   |

 

## **3** **版本概要测试结论**

总体测试结论：GO。总体问题关闭率超过85%并且无关键问题遗留，专项达到版本要求。

| **测试项**     | **版本要求**                                                 | **测试结论** | **风险和遗留关键问题**                                       |
| -------------- | ------------------------------------------------------------ | ------------ | ------------------------------------------------------------ |
| 子系统需求验证 | 1、无严重与主要的缺陷   <br />2、总体问题关闭率85%以上       | Go           | 需求100%测试完成，无关键未分析问题遗留。                     |
| 兼容性测试     | XTS通过率100%                                                | Go           | 无                                                           |
| 专项稳定性     | 无遗留严重及以上关键性问题                                   | Go           | 无                                                           |
| 专项性能       | 子系统性能场景；应用负载模型；                               | Go           | 无                                                           |
| 专项功耗       | 场景功耗达标；待机功耗达标；                                 | Go           | 无                                                           |
| 安全           | 安全告警问题全部清零                                         | Go           | 遗留1个das  u-boot组件漏洞CVE-2022-30767，该组件官网尚未公布解决方案，遗留后续解决。 |
| 资料测试       | 无资料使用问题                                               | Go           | 无资料使用问题                                               |
| SDK            | 1、SDK配套IDE无关键问题，版本配套验证OK<br /> 2、IDE配套资料交付完成 | Go           | 无                                                           |

 

## **4** **版本详细测试结论**

### **4.1** **子系统测试结论**

| **序号** | **子系统名称**         | **评估结论** | **风险和遗留关键问题**                                       |
| -------- | ---------------------- | ------------ | ------------------------------------------------------------ |
| 1        | 媒体子系统             | Go           | 需求验收：测试通过，无风险  <br />关键特性：实现音频焦点、音频解码能力相关API接口能力  <br />测试活动：  <br />【功能】全量测试用例覆盖，测试通过，无风险  <br />【稳定性】长稳测试用例覆盖，测试通过，无风险  <br />【性能功耗】无风险  <br />【安全】安全用例执行，测试通过，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，测试通过，无风险  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 2        | 应用子系统             | Go           | 需求验收：需求验收通过，无关键问题遗留  <br />关键特性：联系人支持第三方应用调用系统通话能力，提供用户基础通信能力  <br />测试活动：<br />【功能】全量测试用例覆盖，测试通过，无风险  <br />【稳定性】长稳测试用例覆盖，测试通过，无风险  <br />【性能功耗】测试通过  <br />【安全】安全用例执行，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，测试通过，无风险  <br />【资料】测试通过  <br />【SDK】不涉及 |
| 3        | 启动恢复子系统         | Go           | 需求验收：验收通过，无关键问题。  <br />关键特性：实现兼容@system.device  API接口能力  <br />测试活动：  <br />【功能】全量测试用例覆盖，测试通过，无风险  <br />【稳定性】长稳测试用例覆盖，测试通过，无风险  <br />【性能功耗】测试通过  <br />【安全】安全用例执行，测试通过，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，测试通过，无风险  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 4        | 安全子系统             | GO           | 需求验收：无新需求合入，继承功能验证，无关键问题遗留  <br />关键特性：无  <br />测试活动：  <br />【功能】全量用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】无风险  <br />【安全】安全用例执行，测试通过，无风险 <br /> 【XTS】接口覆盖率100%，用例通过率100%，测试通过，无风险  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 5        | ArkUI                  | Go           | 需求验收：测试通过，无风险  <br />关键特性：无  <br />测试活动：  <br />【功能】基本用例覆盖，无风险  <br />【稳定性】长时间稳定性测试，无风险  <br />【性能功耗】测试通过  <br />【安全】安全用例执行，无风险  <br />【XTS】测试通过  <br />【资料】无风险  <br />【SDK】测试通过 |
| 6        | 驱动子系统             | Go           | 需求验收：测试通过，无风险  <br />关键特性：无  <br />测试活动：  <br />【功能】基本用例覆盖，无风险  <br />【稳定性】长时间稳定性测试，无风险  <br />【性能功耗】不涉及  <br />【安全】安全用例执行，无风险  <br />【XTS】HATS测试通过  <br />【资料】不涉及  <br />【SDK】不涉及 |
| 7        | 内核子系统             | GO           | 需求验收：无新增需求合入  <br />关键特性：无<br /> 测试活动：  <br />【功能】分层测试看护测试通过。<br />【性能功耗】不涉及  <br />【安全】测试通过，无风险  <br />【XTS】测试通过，无风险  <br />【资料】不涉及  <br />【SDK】不涉及 |
| 8        | USB子系统              | Go           | 需求验收：无新增需求合入  <br />关键特性：无  <br />测试活动：  <br />【功能】基本用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】不涉及  <br />【安全】安全用例执行，测试通过，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，无风险  <br />【资料】测试通过  <br />【SDK】不涉及 |
| 9        | 泛Sensor子系统         | Go           | 需求验收：需求验收完成，无关键问题遗留  <br />关键特性：sensor  订阅JS接口能力补齐  <br />测试活动：  <br />【功能】接口通过xts用例全量覆盖，场景demo验证通过  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】不涉及 <br />【安全】不涉及 <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 10       | 多模输入子系统         | Go           | 需求验收：需求验收完成，无关键问题遗留  <br />关键特性：支持鼠标光标、配置组合键裁剪，服务启动延时优化  <br />测试活动：  <br />【功能】基本功能用例验证，测试通过，无风险 <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】历史xts用例测试通过  <br />【资料】测试通过<br />【SDK】不涉及 |
| 11       | 文件存储子系统         | Go           | 需求验收：无新需求合入，继承功能验证，无关键问题遗留  <br />关键特性：  无  <br />测试活动：  <br />【功能】全量用例覆盖，无风险 <br />【稳定性】长时间稳定性测试，无风险  <br />【性能功耗】无风险  <br />【安全】安全用例执行，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，无风险  <br />【资料】测试通过，无风险  <br />【SDK】测试通过，无风险 |
| 12       | 电源子系统             | Go           | 需求验收：需求验收完成，无关键问题遗留  <br />关键特性：实现兼容亮度调节和电池信息查询API接口能力  <br />测试活动：  <br />【功能】基本功能验收完成，测试通过，无风险  <br />【稳定性】长时间稳定性测试，无风险  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】新增接口用例已补齐，功能用例全量通过 <br />【资料】测试通过 <br />【SDK】测试通过 |
| 13       | 语言编译与运行时子系统 | Go           | 需求验收：验收通过，无关键问题遗留  <br />关键特性：无  <br />测试活动：  <br />【功能】测试通过，无风险  <br />【稳定性】XTS全量用例压测通过  <br />【性能功耗】测试通过，无风险 <br />【安全】不涉及  <br />【XTS】XTS全量用例压测通过  <br />【资料】不涉及  <br />【SDK】不涉及 |
| 14       | 全局资源调度管控子系统 | Go           | 需求验收：验收通过，无关键问题遗留  <br />关键特性：支持卡片使用信息统计 <br /> 测试活动：  <br />【功能】全部用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过，无风险  <br />【XTS】测试通过 <br />【资料】测试通过 <br />【SDK】测试通过 |
| 15       | 分布式任务调度子系统   | Go           | 需求验收：验收完成，无关键问题遗留 <br /> 关键特性：跨设备启动组件、跨设备绑定/解绑组件、跨设备oncall调用、跨设备迁移组件  <br />测试活动：  <br />【功能】全部用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险 <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过，无风险  <br />【XTS】测试通过  <br />【资料】测试通过 <br /> 【SDK】测试通过 |
| 16       | 系统服务管理子系统     | Go           | 需求验收：验收通过，无关键问题遗留  <br />关键特性：SA注册、查询、加载，动态加载SA  <br />测试活动：  <br />【功能】全部用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过，无风险  <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 17       | 分布式DP子系统         | Go           | 需求验收：验收通过，无关键问题遗留  <br />关键特性：本地查询、写入、删除设备profile信息，查询远端profile信息，设备profile信息同步，订阅/去订阅设备profile信息  <br />测试活动：  <br />【功能】全部用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过，无风险  <br />【XTS】测试通过  <br />【资料】测试通过 <br />【SDK】测试通过 |
| 18       | 分布式数据管理子系统   | Go           | 需求验收：新需求验收完成，无关键特性问题  <br />关键特性：实现兼容@system.storage  API接口能力 <br /> 测试活动：  <br />【功能】全部用例覆盖  <br />【稳定性】长时间稳定测试  <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过  <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 19       | 分布式硬件子系统       | Go           | 需求验收：验收完成，无关键性问题  <br />关键特性：无 <br />测试活动：  <br />【功能】基础功能全部覆盖，有遗留问题，评估可遗留  <br />【稳定性】长稳测试，测试通过，无风险  <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过，无风险  <br />【XTS】测试通过，无风险  <br />【资料】不涉及  <br />【SDK】测试通过，无风险 |
| 20       | 分布式软总线子系统     | Go           | 需求验收：验收完成，无关键性问题  <br />关键特性：无 <br />测试活动：  <br />【功能】全量用例覆盖，无关键问题遗留  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】测试通过，无风险  <br />【安全】测试通过，无风险  <br />【XTS】测试通过，无风险  <br />【资料】不涉及  <br />【SDK】测试通过，无风险 |
| 21       | 杂散子系统             | Go           | 需求验收：验收通过，无关键问题  <br />关键特性：实现兼容http文件下载API接口能力  <br />测试活动：  <br />【功能】需求相关用例覆盖，demo验证功能，测试通过，无风险  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】测试通过，无风险  <br />【资料】测试通过，无风险  <br />【SDK】不涉及 |
| 22       | 无障碍子系统           | GO           | 需求验收：验收通过  <br />关键特性：无  <br />测试活动：  <br />【功能】用例覆盖，无关键问题  <br />【安全】不涉及  <br />【稳定性】测试通过 <br />【XTS】接口覆盖率100%，测试通过，无风险  <br />【资料】测试通过，无风险  <br />【SDK】测试通过，无风险 |
| 23       | 账号子系统             | GO           | 需求验收：无新需求合入，继承功能验证，无关键问题遗留 <br />关键特性：  无  <br />测试活动：  <br />【功能】全量用例覆盖，测试通过，无风险  <br />【稳定性】长时间稳定性测试，测试通过，无风险  <br />【性能功耗】测试通过，无风险 <br />【安全】安全用例执行，测试通过，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，无风险  <br />【资料】测试通过，无风险  <br />【SDK】测试通过，无风险 |
| 24       | 电话子系统             | Go           | 需求验收:  验收通过，无关键问题遗漏  <br />关键特性：实现兼容WebSocket、fetch等API接口能力，支持以太网连接  <br />测试活动：<br />【功能】验证需求相关用例和基础功能用例，测试通过，无风险  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 25       | 事件通知子系统         | Go           | 需求验收：验收通过，无问题。  <br />关键特性：实现通知发送和取消的API接口能力  <br />测试活动：  <br />【功能】全量测试用例通过，无风险  <br />【稳定性】长稳测试用例通过，无风险  <br />【性能功耗】测试通过  <br />【安全】安全测试通过，无风险  <br />【XTS】接口覆盖率100%，用例通过率100%，无风险  <br />【资料】测试通过，无风险  <br />【SDK】测试通过，无风险 |
| 26       | 包管理子系统           | Go           | 需求验收：支持对测试框架的配置，查询指定应用是否安装。验收通过无问题。 <br />关键特性：实现查询指定应用是否安装接口能力  <br />测试活动：  <br />【功能】验证需求相关用例和基础功能用例，测试通过  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】测试通过  <br />【资料】不涉及  <br />【SDK】不涉及 |
| 27       | 元能力子系统           | Go           | 需求验收：验收完成，无关键问题遗留  <br />关键特性：现FA模型支持查询/设置组件横竖屏状态、组件锁屏显示和组件启动。  <br />测试活动：  <br />【功能】全部用例覆盖测试通过 <br />【稳定性】长时间稳定性测试，测试通过  <br />【性能功耗】测试通过  <br />【安全】测试通过  <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 28       | 短距离通信子系统       | Go           | 需求验收：支持基本定位能力，兼容system  API 验收通过，无关键问题遗漏  <br />关键特性：无  <br />测试活动：  <br />【功能】全量用例覆盖，测试通过  <br />【稳定性】长时间稳定性用例测试通过  <br />【性能功耗】性能测试用例通过 ，功耗不涉及。  <br />【安全】SecBinaryCheck测试通过、Seninfo测试通过  <br />【XTS】全量测试用例通过  <br />【资料】覆盖通过  <br />【SDK】不涉及 |
| 29       | 图形子系统             | Go           | 需求验收：验收完成，无关键问题遗留  <br />关键特性：无<br />测试活动：  <br />【功能】全部用例覆盖，测试通过  <br />【稳定性】长时间稳定性测试，测试通过  <br />【性能功耗】测试通过  <br />【安全】测试通过  <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 30       | 窗口管理子系统         | Go           | 需求验收：验收完成，无关键问题遗留  <br />关键特性：支持窗口属性设置  <br />测试活动：  <br />【功能】全部用例覆盖，测试通过  <br />【稳定性】长时间稳定性测试，测试通过  <br />【性能功耗】不涉及  <br />【安全】测试通过  <br />【XTS】测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |
| 31       | 全球化子系统           | Go           | 需求验收：无新需求合入，继承功能验证，无关键问题遗留  <br />关键特性：无<br /> 测试活动：  <br />【功能】基本功能覆盖，测试通过  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】XTS覆盖，测试通过  <br />【资料】不涉及 <br /> 【SDK】不涉及 |
| 32       | 位置服务子系统         | Go           | 需求验收：验收完成，无关键问题遗留  <br />关键特性：实现兼容基本定位API接口能力  <br />测试活动：  <br />【功能】基本功能覆盖, 测试通过  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及<br />【XTS】XTS覆盖，测试通过  <br />【资料】不涉及  <br />【SDK】不涉及 |
| 33       | DFX                    | Go           | 需求验收：无新需求合入，验证继承性功能  <br />关键特性：无  <br />测试活动：  <br />【功能】基本功能验证，无关键问题，测试通过  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】XTS覆盖，测试通过  <br />【资料】无风险  <br />【SDK】无风险 |
| 34       | 升级子系统             | Go           | 需求验收：测试通过，无关键问题遗留 <br /> 关键特性：无  <br />测试活动：  <br />【功能】基本功能保障，测试无问题  <br />【稳定性】不涉及  <br />【性能功耗】不涉及  <br />【安全】不涉及  <br />【XTS】测试通过，无问题  <br />【资料】验收通过，无问题  <br />【SDK】验收通过，无问题 |
| 35       | 程序访问控制子系统     | Go           | 需求验收：测试通过，无关键问题遗留  <br />关键特性：  无  <br />测试活动：  <br />【功能】全量用例覆盖，测试通过  <br />【稳定性】长时间稳定性测试，测试通过  <br />【性能功耗】测试通过  <br />【安全】安全用例执行，测试通过  <br />【XTS】接口覆盖率100%，用例通过率100%，测试通过  <br />【资料】测试通过  <br />【SDK】测试通过 |

 

 

### **4.2** **兼容性测试结论：**

兼容性测试主要是验证设备和业务应用满足OpenHarmony开源兼容性定义的技术要求，确保运行在OpenHarmony上的设备和业务应用能稳定、正常运行，同时使用OpenHarmony的设备和业务应用有一致性的接口和业务体验。

XTS用例通过率 100% ：总用例数13102个，PASS 13102个。

准出结论：Go

| **测试套名称**                | **英文**                                        | **目的**            | **交付形式**         | **用例规模**                                   | **通过率**                                     | **验收结论**                             |
| ----------------------------- | ----------------------------------------------- | ------------------- | -------------------- | ---------------------------------------------- | ---------------------------------------------- | ---------------------------------------- |
| OpenHarmony应用兼容性测试套   | ACTS  （Application Compatibility Test Suite ） | 看护北向应用兼容性  | 开源的自动化测试套件 | 标准系统：13102  小型系统：2251  轻量系统：330 | 标准系统：100%  小型系统：100%  轻量系统：100% | 标准系统：GO  小型系统：GO  轻量系统：GO |
| OpenHarmony分布式兼容性测试套 | DCTS  （Distributed Compatability Test Suite）  | 看护分布式兼容性    | 开源的自动化测试套件 | 标准系统：50                                   | 标准系统：100%                                 | GO                                       |
| OpenHarmony硬件抽象测试套     | HATS  （Hardware Abstraction Test Suite ）      | 看护HDI与内核兼容性 | 开源的自动化测试套件 | 标准系统：1200                                 | 标准系统：100%                                 | GO                                       |

 

### **4.3** **稳定性专项测试结论：**

准出结论：Go

无关键稳定性问题遗留，block问题已经解决。

| 测试类型             | 准出标准（APR为牵引值）                                      | 评估结果 | 测试结果       |
| -------------------- | ------------------------------------------------------------ | -------- | -------------- |
| 系统可靠性           | 1.APR<=42.全模块10台测试机中7台无故障运行时间>=6H            | GO       | 无关键问题遗留 |
| 核心应用可靠性       | 1. SystemUI APR <=0.4 ,其他预置应用APR <=0.2  2. 单模块3组最小无故障运行>6H | GO       | 无关键问题遗留 |
| 死机重启             | 1.APR<=4   2.无死机重启关键问题                              | GO       | 无关键问题遗留 |
| 不开机(只统计OS导致) | 1.APR<=0.2  2.无OS导致的不开机关键问题                       | GO       | 无关键问题遗留 |
| 场景级 MTBF          | 1.用例通过率>75%  2.MTBF>=1000                               | GO       | 无关键问题遗留 |
| 内存泄露             | 1.无内存泄漏问题遗留                                         | GO       | 无关键问题遗留 |
| 内存越界             | 1.无内存越界问题遗留                                         | GO       | 无关键问题遗留 |

 

### **4.4** **性能专项测试结论**

准出结论：Go

1.帧率场景对比3.1 Release有提升。  

2.整体性能不劣于3.1 Release版本。  

| **用例名称**           | **指标类型** | **单位** | **RK**性能标准 | **OpenHarmony3.1** | **OpenHarmony3.1.1** |
| ---------------------- | ------------ | -------- | -------------- | ------------------ | -------------------- |
| 首页滑动帧率           | 帧率         | fps      | 54             | 51.2               | 55                   |
| 滚动查看聊天信息       | 帧率         | fps      | 54             | 49.9               | 55                   |
| 滑动朋友圈             | 帧率         | fps      | 54             | 49.5               | 52                   |
| 滑动帧率               | 帧率         | fps      | 54             | 49.3               | 53                   |
| 状态栏下拉-响应时延    | 响应时延     | ms       | 150            | 1129               | 1019                 |
| 联系人-拨号子Tab切换   | 完成时延     | ms       | 250            | 520                | 419                  |
| 联系人列表快滑-帧率    | 帧率         | fps      | 54             | 52.83              | 56.6                 |
| 非首次开机(无预置资源) | 完成时延     | ms       | 25000          | 26080              | 27834.7              |
| 开机                   | 完成时延     | ms       | 25000          | 25840              | 27481.9              |
| 启动设置               | 完成时延     | ms       | 1000           | 1137               | 1194                 |

 

### **4.5** **安全专项测试结论**

准出结论：Go

无遗留严重以上漏洞及安全问题。

### **4.6 SDK**专项测试结论

准出结论：Go

 3.1.1 Release共发布11874+ JS API，对比3.1 Release版本API接口定义无变更，部分API底层Bug修复以及功能补齐，XTS API覆盖率达100%，无API遗漏。  

 

### **4.7** **资料测试结论**

准出结论：Go

测试完成，无关键遗留问题。